<div id="searchButton">
  <button (click)="toggleSearch()">
    <mat-icon class="text-black dark:text-white font-bold">search</mat-icon>
  </button>
</div>

<div
  id="searchOverlay"
  [ngClass]="{ 'show-overlay': showSearch }"
  (click)="toggleSearch()"
>
  <div
    id="searchInputContainer"
    [ngClass]="{ 'show-container': showSearch }"
    (click)="$event.stopPropagation()"
    class="bg-white dark:bg-gray-800"
  >
    <h1 class="font-bold text-black dark:text-white text-xl">
      {{ language === 'es' ? 'Búsqueda de Pokémon' : 'Search Pokémon' }}
    </h1>
    <input class="w-full bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 border border-gray-300 dark:border-gray-600 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400"
      type="text"
      [(ngModel)]="searchQuery"
      (input)="filterData()"
      [placeholder]="language === 'es' ? 'Buscar...' : 'Search...'"
    />
    <ul>
      <li
        class="cursor-pointer rounded-md mt-1 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center transition-colors"
        (click)="navigateToPokemon(item.name)"
        *ngFor="let item of limitedFilteredData"
      >
        <img [src]="item.sprites.iconUrl" alt="" class="w-20 mr-2" />
        <span class="text-gray-900 dark:text-gray-100">{{ item.name | replaceDash | titlecase }}</span>
      </li>
      <li *ngIf="limitedFilteredData.length === 0 && searchQuery !== ''" class="text-gray-600 dark:text-gray-400 p-2">
        {{ language === 'es' ? 'No se encontró un Pokémon con el nombre: ' + searchQuery : 'No Pokémon with the name ' + searchQuery + ' was found' }}
      </li>
    </ul>
  </div>
</div>
